# 植保精灵 PGuard

## 开发人员

2250753 宋宇然；2251875 陈晓坤；2251948 许经宝

**联系方式：**

电话：+86 13614356534

邮箱：yuransong233@gmail.com

**项目贡献：**

宋宇然：后端 33.33%

陈晓坤：前端 33.33%

许经宝：模型 33.33%

## 项目简介

本项目旨在通过基于图像识别的病害检测功能，帮助用户管理种植地块并提供植物保护建议。用户可以上传植物图片，系统将自动识别病害并提供相应的建议，并会统计用户地块信息，给出来年种植建议。

## 功能特性

- **用户管理**：用户注册、登录及权限验证。
- **地块管理**：用户可以添加、删除和查看自己的种植地块。
- **病害检测**：基于YOLOv8模型的图像识别，检测上传图片中的植物病害。
- **日志记录**：记录每次检测的结果和建议，供用户查看历史记录。

## 目录结构

- `backend/`：后端服务代码
  - `service/`：业务逻辑实现
    - `detect.py`：病害检测服务
    - `log.py`：日志分析服务
    - `plot.py`：地块管理服务
  - `routers/`：API路由 **(Controller)**
    - `admin.py`：管理员相关API
    - `plot.py`：地块相关API
  - `models/`：数据库模型定义
  - `schemas/`：数据模式定义
  - `controller/`：子系统交互层
  - `core/`：核心依赖配置
- `yolov8/`：YOLOv8模型相关文件
  - `Grape_defect.py`：葡萄病害检测脚本
  - `Potato_defect.py`：马铃薯病害检测脚本

## 环境依赖

请确保你的环境已安装以下依赖：

- Python 3.8
- 注意yolov8模型与后端是运行于不同的环境中的微服务。
- 其他依赖请参考 `yolov8/说明文档.md` 中的依赖列表以及`backend`目录下的`requirement.txt`。

## 使用说明

1. **安装依赖**：根据 `yolov8/说明文档.md` 安装所需的Python包。
2. **配置环境**：设置必要的环境变量，如 `SECRET_KEY`。
3. **运行服务**：启动后端服务，以及Redis缓存服务器。
4. **上传图片**：通过前端界面上传植物图片，获取病害检测结果和建议。

